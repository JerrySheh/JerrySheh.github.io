---
title: TCP与UDP的区别
comments: true
categories: 计算机网络
tags:
  - 计算机网络
abbrlink: 4399c62c
createTime: 2018/01/02 23:32:36
permalink: /networking/2jxf5qiz/
---

TCP和UDP是OSI模型`运输层`中的协议。

TCP提供可靠的通信传输，而UDP则常被用于让广播和细节控制交给应用的通信传输。

<!-- more -->

## UDP (User Datagram Protocol)

UDP不提供复杂的控制机制，利用IP提供面向无连接的通信服务。并且它是将应用程序发来的数据在收到的那一刻，立刻按照原样发送到网络上的一种机制。

即使是出现网络拥堵的情况下，UDP也无法进行流量控制等避免网络拥塞的行为。

此外，传输途中如果出现了丢包，UDP也不负责重发。甚至当出现包的到达顺序乱掉时也没有纠正的功能。如果需要这些细节控制，那么不得不交给由采用UDP的应用程序去处理。

换句话说，UDP将部分控制转移到应用程序去处理，自己却只提供作为传输层协议的最基本功能。UDP有点类似于用户说什么听什么的机制，但是需要用户充分考虑好上层协议类型并制作相应的应用程序。

## TCP(Transmission Control Protocol)

TCP充分实现了数据传输时各种控制功能，可以进行丢包的重发控制，还可以对次序乱掉的分包进行顺序控制。而这些在UDP中都没有。

此外，TCP作为一种面向有连接的协议，只有在确认通信对端存在时才会发送数据，从而可以控制通信流量的浪费。TCP通过检验和、序列号、确认应答、重发控制、连接管理以及窗口控制等机制实现可靠性传输。

## TCP与UDP如何加以区分使用？

TCP用于在传输层有必要实现可靠性传输的情况。由于它是面向有连接并具备顺序控制、重发控制等机制的。所以它可以为应用提供可靠传输。

另一方面，UDP主要用于那些对高速传输和实时性有较高要求的通信或广播通信。

举一个IP电话进行通话的例子。如果使用TCP，数据在传送途中如果丢失会被重发，但是这样无法流畅地传输通话人的声音，会导致无法进行正常交流。而采用UDP，它不会进行重发处理。从而也就不会有声音大幅度延迟到达的问题。即使有部分数据丢失，也只是影响某一小部分的通话。

此外，在多播与广播通信中也使用UDP而不是TCP。RIP、DHCP等基于广播的协议也要依赖于UDP。

---


## TCP与UDP区别总结
1. TCP`面向连接`（如打电话要先拨号建立连接);UDP是`无连接`的，即发送数据之前不需要建立连接
2. TCP提供`可靠`的服务。也就是说，通过TCP连接传送的数据，无差错，不丢失，不重复，且按序到达;UDP尽最大努力交付，即`不保证可靠`交付
3. TCP`面向字节流`，实际上是TCP把数据看成一连串无结构的字节流;UDP则是`面向报文`的。UDP没有拥塞控制，因此网络出现拥塞不会使源主机的发送速率降低（对实时应用很有用，如IP电话，实时视频会议等），并且UDP速度更快。
4. 每一条TCP连接只能是`点到点`的;UDP支持`一对一，一对多，多对一和多对多`的交互通信
5. TCP`首部开销`20字节;UDP的首部开销小，只有8个字节
6. TCP的逻辑通信信道是全双工的`可靠信道`，UDP则是`不可靠信道`


TCP|UDP
--|--
`面向连接`|`无连接`
提供`可靠`的服务。|尽最大努力，`不保证可靠`交付
`面向字节流`|`面向报文`
只能`点到点`|支持`一对一，一对多，多对一和多对多`
首部开销 20 字节|首部开销 8 个字节
`可靠逻辑通信信道`（全双工）|`不可靠逻辑通信信道`
