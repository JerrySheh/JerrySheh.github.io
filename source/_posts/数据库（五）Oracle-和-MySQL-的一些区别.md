---
title: 数据库（五）Oracle 和 MySQL 的一些区别
comments: true
categories: 数据库
tags: SQL
abbrlink: 65a27c74
date: 2019-03-03 20:41:48
---

团队最近正在计划将项目从 Oracle 数据库迁移到 MySQL，特此整理一份 Oracle 字段、函数、建表语句的差异。

# 字段

## 整数

在 Oracle 中，数字统一使用 NUMBER ，NUMBER(6) 最大值为 999999 ，NUMBER(6,2) 最大值为 9999.99

在 MySQL 中，整数分为 tinyint、smallint、mediumint、int 和 bigint 五种，区别如下：

| 整数类型 | 字节数  | 比特数   | 取值范围 |
| :------------- | :------------- |:------------- |:------------- |
| tinytint       | 1字节      | 8 bit (2^8) | -128 到 127
| smallint       | 2字节      | 16 bit (2^16)  | -32768 到 32767
| mediumint       | 3字节     | 24 bit (2^24)   | -8388608 到 8388607
| int       | 4字节           | 32 bit (2^32)   | -2147483648 到	2147483647
| bigint       | 8字节           |  64 bit (2^64)        | -9223372036854775808 到	9223372036854775807

> 在 MySQL 中，int(4) 表示 zerofill 为 4，实际上是可以插入大于 4 位的数值比如 12345，只不过，当不足 4 位的时候，在左边会填充 0 ，例如对于 int(4)， 插入 123，显示的是 0123， 对于 int(5)，插入 123，显示的是 00123。

## 小数

MySQL的小数用 FLOAT 或 DOUBLE，但可能会损失精度，推荐用 DECIMAL 。DECIMAL(6,2) 最大值为 9999.99

## 结果字符集

在 Oracle 中，用 ROWNUM 筛选结果集。但 ROWNUM 是一个伪列，即先有结果集，然后再筛选。在一个20行记录的表中，当我们想查询表的第11-20行记录，输入`select rownum,c1 from t1 where rownum > 10`，我们会得不到任何结果，因为 Oracle 会先筛选出第一条，发现 不满足 > 10，于是排除，将第二条记录放到 1 的位置，发现还是 不满足 > 10，以此类推，20条记录都被推到第一的位置，都不满足 > 10 的条件。简而言之，rownum 条件要包含到 1，否则永远查不到结果。

在 MySQL 中，用 LIMIT 筛选结果集， LIMIT(10)筛选前 10 条，LIMIT(30,10)，从第31条开始，取10条（即31-40行记录）。

## 字符串

在 Oracle 中，字符串有 VARCHAR2，且只可以用单引号包起字符串。

在 MySQL 中，只有 VARCHAR， MySQL里可以用双引号包起字符串。

# 函数

## 连接字符串

在 Oracle中，连接字符串用 `||`。 如  `'%'||'es'||'%'`，表示任意字符串连接lib再连接任意字符串（fresh）。

在 MySQL 中，连接字符串用 concat 函数。如 `concat('%', 'es','%')`。

# 其他

## 空字符

在 Oracle 中，只有 NULL 的概念，没有空字符。

在 MySQL 中，有 NULL，也有空字符。

# DDL

未完待续
