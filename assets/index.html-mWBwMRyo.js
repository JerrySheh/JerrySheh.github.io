import{_ as t,c as a,f as r,o as n}from"./app-D22ydJtp.js";const o="/images/database/xplugin.jpg",l={};function i(p,e){return n(),a("div",null,e[0]||(e[0]=[r('<h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言"><span>前言</span></a></h2><p>今天在查阅 MySQL 文档时，无意间发现 <code>X DevAPI</code> 这个词语，进而了解到 <code>MySQL X</code> 这个新鲜事物，发现除了 MySQL 官网文档外，其他资料很少有提及到，好奇心驱使我通读了一遍文档，记录在此，做个总结。</p><h2 id="从数据模型讲起" tabindex="-1"><a class="header-anchor" href="#从数据模型讲起"><span>从数据模型讲起</span></a></h2><p>在开始讲 MySQL X 之前，我想先回顾下 <strong>数据库模型</strong> 这个概念。我们通常使用的很多数据库，如 MySQL、PostgreSQL 提供的是 <strong>关系型（relational）模型</strong>，即把数据分为行（row）和列（column）进行组织，通过标准的结构化查询语言（SQL）操作数据。但这种组织形式并不灵活，于是又发展出以 MongoDB 为代表的 <strong>非关系型数据库模型</strong>，或者叫 <strong>文档型（document）模型</strong>，它里面存储的是如 JSON 这样的灵活数据，实时性和扩展性更高。</p><p>顺应时代的发展，MySQL 在 5.7 版本后也宣布支持了 JSON 和文档型数据的存储和查询。</p><h2 id="mysql-x" tabindex="-1"><a class="header-anchor" href="#mysql-x"><span>MySQL X</span></a></h2><p>在 MySQL 支持文档型数据后，官方为了统一两种数据的API，设计了 MySQL X。 X 在英文中有交叉（Cross）的意思，可以这么理解， MySQL X 就是用于交叉操作 MySQL 数据库中这两类数据的一种扩展能力。其包括三部分：</p><ol><li>X Plugin</li><li>X protocol</li><li>X DevAPI</li></ol><h3 id="x-plugin" tabindex="-1"><a class="header-anchor" href="#x-plugin"><span>X plugin</span></a></h3><p>X plugin 在 5.7.12 版本中引入，最初该插件是需要手动安装的，但在 8.0 版本中已经默认安装。这是一个 MySQL 服务器和客户端之间的全新接口。这个新接口的能力包括：</p><ol><li>像传统的SQL一样操作关系型数据</li><li>操作非关系型的文档对象（document objects）</li><li>提供 <strong>异步查询能力</strong></li><li>...</li></ol><h3 id="x-protocol" tabindex="-1"><a class="header-anchor" href="#x-protocol"><span>X protocol</span></a></h3><p>这是 MySQL 服务器和客户端之间通信连接的扩展全新协议。作为一个现代化的协议，当然也是充分考虑到了异步通信的能力。底层是使用 Google 的 protobuf 来进行序列化和反序列化。</p><p>相比老协议，在可扩展性、性能以及安全性方面都有提升。</p><h3 id="x-devapi" tabindex="-1"><a class="header-anchor" href="#x-devapi"><span>X DevAPI</span></a></h3><p>X DevAPI 实际上就是一系列的 API 实现，并提供给开发者使用的。其不仅包括 Shell 客户端，还包括 JavaScript、Python、C#、Java 等编程语言支持（官方称为Connector），其中，对 Java 的支持已经集成在 <a href="https://dev.mysql.com/doc/connector-j/8.1/en/connector-j-using-xdevapi.html" target="_blank" rel="noopener noreferrer">Connector/J</a> 中。</p><p>以 Java 为例，以前我们使用 java 操作数据库都是用 JDBC ，这是一种通用的编程规范， MySQL Connector/J 实现了这个规范，于是我们可以用 JDBC 来操作 MySQL 数据。现在，Connector/J 内置了 X DevAPI 之后，我们也可以使用 X DevAPI 来操作 MySQL 数据 ，完全不再需要 JDBC 了。</p><p>从官方文档来看，X DevAPI 也有 Connection、Session、Statement、Result Sets 这些概念，但跟 JDBC 中不完全相同，其 CRUD 语法同时支持传统的关系型表和文档型数据，更厉害的是，如果你用不惯，它也支持直接使用 SQL ，此外，还提供了异步调用的方法。可谓是非常强大了。感兴趣的可以通读一遍 <a href="https://dev.mysql.com/doc/x-devapi-userguide/en/" target="_blank" rel="noopener noreferrer">X DevAPI User Guide</a>，内容不多，也很容易理解。</p><hr><h2 id="最后" tabindex="-1"><a class="header-anchor" href="#最后"><span>最后</span></a></h2><p>在 percona 看到一篇文章通俗地讲解了 MySQL X，里面有一张图说明了之间的关系，特引用如下：</p><p><img src="'+o+'" alt="xplugin"></p><p>最后，因为时间有限，暂时没有实际上手感受一下新的API，后续有兴趣了，我会尝试下。</p><hr><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><ul><li><a href="https://dev.mysql.com/doc/x-devapi-userguide/en/" target="_blank" rel="noopener noreferrer">X DevAPI User Guide</a></li><li><a href="https://www.percona.com/blog/understanding-mysql-x-all-flavors/" target="_blank" rel="noopener noreferrer">Understanding MySQL X (All Flavors)</a></li><li><a href="http://mysql.taobao.org/monthly/2021/02/07/" target="_blank" rel="noopener noreferrer">MySQL · 源码阅读 · X-plugin的传输协议</a></li></ul>',26)]))}const c=t(l,[["render",i],["__file","index.html.vue"]]),d=JSON.parse('{"path":"/article/pv4nlp0u/","title":"打开新世界的大门 MySQL X","lang":"zh-CN","frontmatter":{"title":"打开新世界的大门 MySQL X","categories":["数据库","MySQL"],"tags":["database"],"abbrlink":"6ed7aed7","createTime":"2023/09/17 22:15:40","permalink":"/article/pv4nlp0u/","description":"前言 今天在查阅 MySQL 文档时，无意间发现 X DevAPI 这个词语，进而了解到 MySQL X 这个新鲜事物，发现除了 MySQL 官网文档外，其他资料很少有提及到，好奇心驱使我通读了一遍文档，记录在此，做个总结。 从数据模型讲起 在开始讲 MySQL X 之前，我想先回顾下 数据库模型 这个概念。我们通常使用的很多数据库，如 MySQL、P...","head":[["meta",{"property":"og:url","content":"https://jerrysheh.com/article/pv4nlp0u/"}],["meta",{"property":"og:site_name","content":"Jerry"}],["meta",{"property":"og:title","content":"打开新世界的大门 MySQL X"}],["meta",{"property":"og:description","content":"前言 今天在查阅 MySQL 文档时，无意间发现 X DevAPI 这个词语，进而了解到 MySQL X 这个新鲜事物，发现除了 MySQL 官网文档外，其他资料很少有提及到，好奇心驱使我通读了一遍文档，记录在此，做个总结。 从数据模型讲起 在开始讲 MySQL X 之前，我想先回顾下 数据库模型 这个概念。我们通常使用的很多数据库，如 MySQL、P..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://jerrysheh.com/images/database/xplugin.jpg"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-20T05:02:32.000Z"}],["meta",{"property":"article:tag","content":"database"}],["meta",{"property":"article:modified_time","content":"2024-10-20T05:02:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"打开新世界的大门 MySQL X\\",\\"image\\":[\\"https://jerrysheh.com/images/database/xplugin.jpg\\"],\\"dateModified\\":\\"2024-10-20T05:02:32.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"前言","slug":"前言","link":"#前言","children":[]},{"level":2,"title":"从数据模型讲起","slug":"从数据模型讲起","link":"#从数据模型讲起","children":[]},{"level":2,"title":"MySQL X","slug":"mysql-x","link":"#mysql-x","children":[{"level":3,"title":"X plugin","slug":"x-plugin","link":"#x-plugin","children":[]},{"level":3,"title":"X protocol","slug":"x-protocol","link":"#x-protocol","children":[]},{"level":3,"title":"X DevAPI","slug":"x-devapi","link":"#x-devapi","children":[]}]},{"level":2,"title":"最后","slug":"最后","link":"#最后","children":[]},{"level":2,"title":"参考","slug":"参考","link":"#参考","children":[]}],"readingTime":{"minutes":3.22,"words":965},"git":{"createdTime":1729400552000,"updatedTime":1729400552000,"contributors":[{"name":"jerrysheh","email":"jerrysheh@gmail.com","commits":1}]},"autoDesc":true,"filePathRelative":"posts/db/打开新世界的大门 MySQL X .md","categoryList":[{"id":"18958e","sort":10000,"name":"posts"},{"id":"4f2c6d","sort":10004,"name":"db"}]}');export{c as comp,d as data};
