import{_ as s,c as a,f as i,o as t}from"./app-D22ydJtp.js";const n={};function l(d,e){return t(),a("div",null,e[0]||(e[0]=[i(`<p>开发 Python 应用程序的时候，需要安装（import）各种各样的第三方包。默认情况下，都会被安装到Python 3的 site-packages 目录下面。比如，我的第三方包统一安装在目录<code>C:\\Program Files\\Python36\\Lib\\site-packages</code>下面。</p><p>但是，当我们开发多个项目的时候，如果应用A需要jinja 2.7，而应用B需要jinja 2.6怎么办？</p><p>virtualenv 就是用来为特定的应用程序创造一套独立的运行环境的。</p><p>如何你用的是Python 3，还可以直接创建虚拟环境（见第二部分）</p><h1 id="一-使用-virtualenv" tabindex="-1"><a class="header-anchor" href="#一-使用-virtualenv"><span>一. 使用 virtualenv</span></a></h1><h2 id="_1-安装" tabindex="-1"><a class="header-anchor" href="#_1-安装"><span>1. 安装</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pip3 install virtualenv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_2-创建一个工程目录" tabindex="-1"><a class="header-anchor" href="#_2-创建一个工程目录"><span>2. 创建一个工程目录</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>mkdir webApp</span></span>
<span class="line"><span>cd webApp</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_3-创建独立python运行环境" tabindex="-1"><a class="header-anchor" href="#_3-创建独立python运行环境"><span>3. 创建独立Python运行环境</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>virtualenv venv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-进入该环境" tabindex="-1"><a class="header-anchor" href="#_4-进入该环境"><span>4. 进入该环境</span></a></h2><p>Linux / Mac</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>source venv/bin/activate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>Windows</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>.\\venv\\Scripts\\activate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>此时命令行前面出现了 <code>(venv)</code> 表示已经进入独立的虚拟Python运行环境</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>(venv) D:\\Python\\new\\venv&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>此时可以用 pip 安装该项目所需的 Python 包</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>(venv) D:\\Python\\new\\venv&gt; pip install jinja2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_5-退出venv环境" tabindex="-1"><a class="header-anchor" href="#_5-退出venv环境"><span>5. 退出venv环境</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>(venv) D:\\Python\\new\\venv&gt; deactivate</span></span>
<span class="line"><span></span></span>
<span class="line"><span>D:\\Python\\new&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_6-删除venv环境" tabindex="-1"><a class="header-anchor" href="#_6-删除venv环境"><span>6. 删除venv环境</span></a></h2><p>删除目录即可</p><hr><h1 id="二-使用-python-3-自带的venv" tabindex="-1"><a class="header-anchor" href="#二-使用-python-3-自带的venv"><span>二. 使用 Python 3 自带的venv</span></a></h1><p>virtualenv 可用在 python 2 或 python 3， 但如果是 python 3 项目， 其实还可以使用 python 3 自带的 venv</p><h2 id="_1-创建虚拟环境" tabindex="-1"><a class="header-anchor" href="#_1-创建虚拟环境"><span>1. 创建虚拟环境</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>python -m venv myvenv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>默认是干净的环境，如果虚拟环境中需要使用系统的环境，可用</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>python -m venv --system-site-packages myvenv</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>使虚拟环境指向系统环境包目录（非复制），在系统环境pip新安装包，在虚拟环境就可以使用。</p><h2 id="_2-激活虚拟环境" tabindex="-1"><a class="header-anchor" href="#_2-激活虚拟环境"><span>2. 激活虚拟环境</span></a></h2><p>不同的命令行工具有不同的激活方法：</p><p>bash/zsh</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>source &lt;venv&gt;/bin/activate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>fish</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>&lt;venv&gt;/bin/activate.fish</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>csh/tcsh</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>&lt;venv&gt;/bin/activate.csh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>cmd</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>&lt;venv&gt;\\Scripts\\activate.bat</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>PowerShell</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>&lt;venv&gt;\\Scripts\\Activate.ps1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这里的 <code>&lt;venv&gt;</code> 指的是刚刚执行创建虚拟环境的目录</p><h2 id="_3-关闭虚拟环境" tabindex="-1"><a class="header-anchor" href="#_3-关闭虚拟环境"><span>3. 关闭虚拟环境</span></a></h2><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>deactivate</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="_4-删除虚拟环境" tabindex="-1"><a class="header-anchor" href="#_4-删除虚拟环境"><span>4. 删除虚拟环境</span></a></h2><p>直接删除目录即可</p><hr><h1 id="下载-requirements" tabindex="-1"><a class="header-anchor" href="#下载-requirements"><span>下载 requirements</span></a></h1><p>有时候，一个项目里所需的依赖会导出到 requirements.txt，使用以下命令来安装所有依赖</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pip install -r requirements.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h1 id="更换-pip-源" tabindex="-1"><a class="header-anchor" href="#更换-pip-源"><span>更换 pip 源</span></a></h1><p>使用 <code>-i</code> 参数临时使用</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pip install -i https://pypi.tuna.tsinghua.edu.cn/simple [some-package]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>升级 pip 到最新的版本 (&gt;=10.0.0) 后进行配置，永久使用</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pip install pip -U</span></span>
<span class="line"><span>pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr>`,60)]))}const p=s(n,[["render",l],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/article/jbghu2ro/","title":"Python 中的 virtualenv","lang":"zh-CN","frontmatter":{"title":"Python 中的 virtualenv","categories":"Python","tags":["Python"],"abbrlink":"e7cabdd8","createTime":"2017/10/16 21:16:30","permalink":"/article/jbghu2ro/","description":"开发 Python 应用程序的时候，需要安装（import）各种各样的第三方包。默认情况下，都会被安装到Python 3的 site-packages 目录下面。比如，我的第三方包统一安装在目录C:\\\\Program Files\\\\Python36\\\\Lib\\\\site-packages下面。 但是，当我们开发多个项目的时候，如果应用A需要jinja 2.7，...","head":[["meta",{"property":"og:url","content":"https://jerrysheh.com/article/jbghu2ro/"}],["meta",{"property":"og:site_name","content":"Jerry"}],["meta",{"property":"og:title","content":"Python 中的 virtualenv"}],["meta",{"property":"og:description","content":"开发 Python 应用程序的时候，需要安装（import）各种各样的第三方包。默认情况下，都会被安装到Python 3的 site-packages 目录下面。比如，我的第三方包统一安装在目录C:\\\\Program Files\\\\Python36\\\\Lib\\\\site-packages下面。 但是，当我们开发多个项目的时候，如果应用A需要jinja 2.7，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-10-20T05:02:32.000Z"}],["meta",{"property":"article:tag","content":"Python"}],["meta",{"property":"article:modified_time","content":"2024-10-20T05:02:32.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"Python 中的 virtualenv\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-10-20T05:02:32.000Z\\",\\"author\\":[]}"]]},"headers":[{"level":2,"title":"1. 安装","slug":"_1-安装","link":"#_1-安装","children":[]},{"level":2,"title":"2. 创建一个工程目录","slug":"_2-创建一个工程目录","link":"#_2-创建一个工程目录","children":[]},{"level":2,"title":"3. 创建独立Python运行环境","slug":"_3-创建独立python运行环境","link":"#_3-创建独立python运行环境","children":[]},{"level":2,"title":"4. 进入该环境","slug":"_4-进入该环境","link":"#_4-进入该环境","children":[]},{"level":2,"title":"5. 退出venv环境","slug":"_5-退出venv环境","link":"#_5-退出venv环境","children":[]},{"level":2,"title":"6. 删除venv环境","slug":"_6-删除venv环境","link":"#_6-删除venv环境","children":[]},{"level":2,"title":"1. 创建虚拟环境","slug":"_1-创建虚拟环境","link":"#_1-创建虚拟环境","children":[]},{"level":2,"title":"2. 激活虚拟环境","slug":"_2-激活虚拟环境","link":"#_2-激活虚拟环境","children":[]},{"level":2,"title":"3. 关闭虚拟环境","slug":"_3-关闭虚拟环境","link":"#_3-关闭虚拟环境","children":[]},{"level":2,"title":"4. 删除虚拟环境","slug":"_4-删除虚拟环境","link":"#_4-删除虚拟环境","children":[]}],"readingTime":{"minutes":1.99,"words":598},"git":{"createdTime":1729400552000,"updatedTime":1729400552000,"contributors":[{"name":"jerrysheh","email":"jerrysheh@gmail.com","commits":1}]},"autoDesc":true,"filePathRelative":"posts/python/Python中的virtualenv.md","categoryList":[{"id":"18958e","sort":10000,"name":"posts"},{"id":"1a0946","sort":10010,"name":"python"}]}');export{p as comp,c as data};
